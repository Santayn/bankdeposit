<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.santayn.bankdeposit.ui.UsersController">

    <top>
        <VBox spacing="8.0">
            <padding>
                <Insets top="10.0" right="10.0" bottom="0.0" left="10.0"/>
            </padding>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="Пользователи"
                       style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

                <Pane HBox.hgrow="ALWAYS"/>

                <Label text="Поиск по логину:"/>
                <TextField fx:id="usernameSearchField" prefWidth="200.0"/>

                <Button fx:id="findButton"
                        text="Найти"
                        onAction="#onFindByUsername"/>

                <Button fx:id="resetSearchButton"
                        text="Сбросить"
                        onAction="#onResetSearch"/>

                <Button fx:id="refreshButton"
                        text="Обновить"
                        onAction="#onRefresh"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <VBox spacing="8.0">
            <padding>
                <Insets top="10.0" right="10.0" bottom="10.0" left="10.0"/>
            </padding>

            <SplitPane orientation="VERTICAL" dividerPositions="0.55">
                <items>

                    <VBox spacing="4.0">
                        <Label text="Список пользователей"/>

                        <TableView fx:id="usersTable" prefHeight="260.0">
                            <columns>
                                <TableColumn fx:id="idColumn"
                                             text="ID" prefWidth="60.0"/>
                                <TableColumn fx:id="usernameColumn"
                                             text="Логин" prefWidth="160.0"/>
                                <TableColumn fx:id="fullNameColumn"
                                             text="ФИО" prefWidth="240.0"/>
                                <TableColumn fx:id="roleColumn"
                                             text="Роль" prefWidth="140.0"/>
                                <TableColumn fx:id="activeColumn"
                                             text="Активен" prefWidth="90.0"/>
                            </columns>
                        </TableView>
                    </VBox>

                    <TitledPane text="Параметры пользователя" expanded="true">
                        <content>
                            <GridPane hgap="10.0" vgap="8.0">
                                <padding>
                                    <Insets top="8.0" right="8.0" bottom="8.0" left="8.0"/>
                                </padding>

                                <columnConstraints>
                                    <ColumnConstraints minWidth="120.0"/>
                                    <ColumnConstraints hgrow="ALWAYS"/>
                                    <ColumnConstraints minWidth="120.0"/>
                                    <ColumnConstraints hgrow="ALWAYS"/>
                                </columnConstraints>

                                <Label text="Логин:"
                                       GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                                <TextField fx:id="usernameField"
                                           GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                                <Label text="Пароль:"
                                       GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                                <PasswordField fx:id="passwordField"
                                               promptText="Оставьте пустым, чтобы не менять"
                                               GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                                <Label text="ФИО:"
                                       GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                                <TextField fx:id="fullNameField"
                                           GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                                <Label text="Роль:"
                                       GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                                <ComboBox fx:id="roleComboBox"
                                          prefWidth="220.0"
                                          GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                                <Label text="Активность:"
                                       GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                                <CheckBox fx:id="activeCheckBox"
                                          text="Пользователь активен"
                                          GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                                <HBox spacing="10.0" alignment="CENTER_RIGHT"
                                      GridPane.rowIndex="3" GridPane.columnIndex="0"
                                      GridPane.columnSpan="4">
                                    <Button fx:id="newButton"
                                            text="Новый"
                                            onAction="#onNewUser"/>
                                    <Button fx:id="saveButton"
                                            text="Сохранить"
                                            onAction="#onSaveUser"/>
                                    <Button fx:id="deleteButton"
                                            text="Удалить"
                                            onAction="#onDeleteUser"/>
                                    <Button fx:id="clearButton"
                                            text="Очистить"
                                            onAction="#onClearForm"/>
                                </HBox>

                            </GridPane>
                        </content>
                    </TitledPane>

                </items>
            </SplitPane>
        </VBox>
    </center>

</BorderPane>
